<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Examples of using continuous calendar</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link rel="stylesheet" href="main/jquery.continuous-calendar.css" type="text/css" media="all"/>
  <style type="text/css" media="all">

    body {
      font-family: "Arial", serif;
      font-size: 90%;
    }

    .calendarScrollContent {
      height: 250px;
    }

    #timeCalendar {
      float: left;
    }

    #timeCalendar .continuousCalendar {
      float: left;
    }

    #timeCalendar .dateLabels div {
      clear: both;
      margin: 1em;
    }

    #timeCalendar .dateLabels div strong {
      float: left;
      display: block;
      width: 5em;
    }

    #timeCalendar .dateLabels div span {
      float: left;
      display: block;
      width: 9em;
    }

    h2 {
      clear: both;
      margin-top: 2em;
    }

    h3 {
      font-size: 1em;
    }

    #range1 .continuousCalendar, #singleDate3 .continuousCalendar {
      top: 15pt;
    }

    .dateLabels {
      float: left;
    }
  </style>
</head>
<body>
<h1>Examples of using continuous calendar</h1>

<form action="../" method="get">
  <h2>Single date select (two times)</h2>

  <div id="timeCalendar">
    <input type="hidden" class="startDate" name="tripStartDate"/>
    <input type="hidden" class="endDate" name="tripEndDate"/>

    <h3>Select Days</h3>

    <div class="continuousCalendar"></div>
    <div class="dateLabels">
      <div>
        <strong>Starts</strong>
        <span class="startDateLabel"></span>
        <select name="tripStartTime"></select>
      </div>
      <div>
        <strong>Ends</strong>
        <span class="endDateLabel"></span>
        <select name="tripEndTime"></select>
      </div>
      <div>
        <strong>Duration</strong>
        <span class="totalTimeOfTrip"></span>
      </div>
    </div>
  </div>
</form>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js" charset="UTF-8"></script>
<script type="text/javascript" src="main/date-functions.js" charset="UTF-8"></script>
<script type="text/javascript" src="main/date-locales.js" charset="UTF-8"></script>
<script type="text/javascript" src="main/date-range.js" charset="UTF-8"></script>
<script type="text/javascript" src="main/jquery.continuous-calendar.js" charset="UTF-8"></script>
<script type="text/javascript" language="JavaScript">
  $("#timeCalendar").continuousCalendar({weeksBefore: 30,lastDate: "today", selectToday: true});
  $("#timeCalendar").bind('calendarChange', function() {
    var container = $(this);
    var startTime = container.find('select[name=tripStartTime]').val();
    var endTime = container.find('select[name=tripEndTime]').val();
    var range = container.calendarRange();
    range.setTimes(startTime, endTime);
    container.find('.totalTimeOfTrip').text(range.toString(DATE_LOCALE_EN)).toggleClass('invalid', !range.isValid());
  });
  $("#timeCalendar select").bind('change', function() {
    $("#timeCalendar").trigger('calendarChange');
  });
  $("#timeCalendar select").each(function() {
    for (i = 0; i < 24; i++) {
      $(this).append($("<option>").text(i + ":00")).append($("<option>").text(i + ":30"));
    }
  });
</script>
</body>
</html>
